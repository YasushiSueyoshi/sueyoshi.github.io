
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ãƒ©ãƒ³ãƒ€ãƒ ãªçŠ¬ã®ç”»åƒ</title>
  <style>
    html {
      font-size: 62.5%;
    }
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      color: #333;
      text-align: center;
      margin: 0 auto;
    }
    h1 {
      font-size: 3.4rem;
      margin: 20px 0;
    }
    #image-container {
      padding: 0 20px;
    }
    img#dog-image {
    width: 100%;
    max-width: 500px;
    margin: 0 auto;
}
    button {
    padding: 10px 20px;
    font-size: 1.6rem;
    background-color: #28a6a7;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    position: relative;
    display: block;
    margin: 30px auto;
}

    button::after {
    content: '';
    display: inline-block;
    margin-left: 15px;
    width: 8px;
    height: 8px;
    border-right: 3px solid white;
    border-bottom: 3px solid white;
    transform: rotate(-45deg);
    vertical-align: middle;
    margin-bottom: 5px;
  }
    button:hover {
      background-color: #298888;
    }
/* loadingã®css */
    #image-container {
    position: relative; /* å­è¦ç´ ã‚’é‡ã­ã‚‹ãŸã‚ã®åŸºæº– */
    min-height: 300px; /* ç”»åƒèª­ã¿è¾¼ã¿å‰ã§ã‚‚é«˜ã•ã‚’ç¢ºä¿ */
  }
#loading {
  /* æœ€åˆã¯éè¡¨ç¤ºã«ã—ã¦ãŠã */
  display: none;

  /* ç”»åƒã‚³ãƒ³ãƒ†ãƒŠã®ä¸­å¤®ã«é…ç½®ã™ã‚‹ãŸã‚ã®è¨­å®š */
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);

  font-size: 9.5rem; /* æ–‡å­—ã‚’å°‘ã—å¤§ãã */
  color: #555;
}
  </style>
</head>

<body>
  <h1>ãƒ©ãƒ³ãƒ€ãƒ ãªçŠ¬ã®ç”»åƒ</h1>
  <button id="change-btn">ç”»åƒã‚’å¤‰æ›´</button>
  <div id="image-container">
    <img id="dog-image" src="" alt="çŠ¬ã®ç”»åƒ">
    <div id="loading">Loading...</div>
  </div>

<script>
  // ğŸ¾ HTMLã®è¦ç´ ã‚’å–å¾—ï¼ˆç”»åƒã€ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤ºã€ãƒœã‚¿ãƒ³ï¼‰
  const dogImageElement = document.getElementById('dog-image'); // çŠ¬ã®ç”»åƒã‚’è¡¨ç¤ºã™ã‚‹ <img> è¦ç´ 
  const loadingElement = document.getElementById('loading');    // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ä¸­ã®è¡¨ç¤ºç”¨ <div> è¦ç´ 
  const changeBtn = document.getElementById('change-btn');      // ã€Œç”»åƒã‚’å¤‰æ›´ã€ãƒœã‚¿ãƒ³

  // ğŸ¶ çŠ¬ã®ç”»åƒã‚’å–å¾—ã—ã¦è¡¨ç¤ºã™ã‚‹é–¢æ•°
  async function fetchDogImage() {
    // 1. ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤ºã‚’è¦‹ã›ã‚‹ï¼ˆèª­ã¿è¾¼ã¿ä¸­ã ã¨åˆ†ã‹ã‚‹ã‚ˆã†ã«ï¼‰
    loadingElement.style.display = 'block';

    // 2. å¤ã„ç”»åƒã‚’ä¸€æ—¦éè¡¨ç¤ºã«ã™ã‚‹ï¼ˆæ–°ã—ã„ç”»åƒãŒæ¥ã‚‹ã¾ã§éš ã™ï¼‰
    dogImageElement.style.display = 'none';

    try {
      // 3. çŠ¬ã®ç”»åƒAPIã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
      const response = await fetch('https://dog.ceo/api/breeds/image/random');

      // 4. å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’JSONå½¢å¼ã«å¤‰æ›
      const data = await response.json();

      // 5. ç”»åƒã®URLã‚’ <img> ã‚¿ã‚°ã«ã‚»ãƒƒãƒˆï¼ˆç”»åƒã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ï¼‰
      dogImageElement.src = data.message;

      // 6. æ–°ã—ã„ç”»åƒãŒèª­ã¿è¾¼ã¾ã‚ŒãŸã‚‰å®Ÿè¡Œã•ã‚Œã‚‹å‡¦ç†
      dogImageElement.onload = () => {
        // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤ºã‚’æ¶ˆã™
        loadingElement.style.display = 'none';

        // æ–°ã—ã„ç”»åƒã‚’è¡¨ç¤ºã™ã‚‹
        dogImageElement.style.display = 'block';
      };

    } catch (error) {
      // 7. ã‚¨ãƒ©ãƒ¼ãŒèµ·ããŸå ´åˆï¼ˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãªã©ï¼‰
      console.error('ç”»åƒã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ', error);

      // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤ºã«ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
      loadingElement.textContent = 'ç”»åƒã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ';
    }
  }

  // ğŸ–±ï¸ ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ãã«ç”»åƒã‚’å¤‰æ›´ã™ã‚‹ã‚ˆã†è¨­å®š
  changeBtn.addEventListener('click', fetchDogImage);

  // ğŸŒ ãƒšãƒ¼ã‚¸ãŒèª­ã¿è¾¼ã¾ã‚ŒãŸã¨ãã«æœ€åˆã®ç”»åƒã‚’è¡¨ç¤º
  fetchDogImage();
</script>

</body>
</html>